Configuration:
    status: debug # off/debug 可以查看log4j的装配过程
    monitorInterval: 1800

    Properties:
        Property:
            -   name: LOG_HOME
                value: build/log/log4j2
            -   name: SERVER_NAME
                value: smart.template
            -   name: BACKUP_HOME
                value: {LOG_HOME}/backup

    Appenders:
        Console: #输出到控制台
            name: Appender-Console
            target: SYSTEM_OUT
            follow: true
            PatternLayout:
                charset: "UTF-8"
                Pattern: '%highlight{%d{HH:mm:ss.SSS} [%t] %-5level %logger{1.}:%L - %msg%n}{%throwable{short.fileName}}{FATAL=white, ERROR=red, WARN=blue, INFO=black, DEBUG=green, TRACE=blue}'

        RollingRandomAccessFile: # 输出到文件，超过10MB归档
            -   name: Appender-File
                fileName: "${LOG_HOME}/${SERVER_NAME}.log"
                filePattern: "${LOG_HOME}/${SERVER_NAME}.%d{yyyy-MM-dd-HH}.log"
                PatternLayout: #设置日志级别的颜色
                    pattern: '%highlight{%d{HH:mm:ss.SSS} [%t] %-5level %logger{1.}:%L - %msg%n}{%throwable{short.fileName}}{FATAL=white, ERROR=red, WARN=blue, INFO=black, DEBUG=green, TRACE=blue}'
                Policies:
                    TimeBasedTriggeringPolicy:
                        interval: 1
                        modulate: true
                    SizeBasedTriggeringPolicy:
                        size: 10 M
                    DefaultRollOverStrategy:
                        max: 10

    # DEBUG < INFO < WARN < ERROR < FATAL
    Loggers:
        Root:
            level: INFO
            AppenderRef:
            - ref: Appender-Console
            - ref: Appender-File

        logger:
            - name: com.smart
                additivity: false
                level: error
                AppenderRef:
                    - ref: Appender-Console
                      level: error
                    - ref: Appender-File
                      level: error
